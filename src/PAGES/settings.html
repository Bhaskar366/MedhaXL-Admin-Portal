<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Settings</title>
  <!-- Google Icons Link -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../CSS/settings.css">
  <script src="../backend/middleware/tokenvalidity.js"></script>
</head>

<body>

  <h1>Settings</h1>

  <div class="tabs">
    <button data-tab="profile" class="active">Admin Details</button>
    <button data-tab="users">Users & Roles</button>
    <button data-tab="security">Security</button>
  </div>

  <!-- Admin Details -->
  <div id="profile" class="tab-content active">
    <h2>Admin Profile</h2>

    <div class="input-container">
      <label for="profile-username"><strong>Username:</strong></label>
      <input type="text" id="profile-username">
    </div>

    <div class="input-container">
      <label for="profile-email"><strong>Email Address:</strong></label>
      <input type="email" id="profile-email">
    </div>

    <button class="submit" onclick="saveProfile()">Save Changes</button>
  </div>

  <!-- Users & Roles Section -->
  <div id="users" class="tab-content">
    <h2>Register New Admin</h2>
    <input type="email" id="admin-email" name="admin-email" placeholder="Admin Email" required>
    <input type="text" id="admin-username" name="admin-username" placeholder="Admin Username" required>
    <input type="password" id="admin-password" name="admin-password" placeholder="Admin Password" required>
    <button class="submit" onclick="registerAdmin()">Register Admin</button>

    <h2>Register New Student</h2>
    <input type="text" id="student-CAN-ID" name="student-CAN-ID" placeholder="Student CAN-ID" required>
    <input type="text" id="student-fullname" name="student-fullname" placeholder="Student Full Name" required>
    <input type="email" id="student-email" name="student-email" placeholder="Student Email" required>
    <input type="text" id="student-username" name="student-username" placeholder="Student Username" required>
    <input type="password" id="student-password" name="student-password" placeholder="Student Password" required>
    <button id="registerStudentBtn" class="submit">Register Student</button>
  </div>


  <div id="security" class="tab-content">
    <h2>Security Settings</h2>

    <input type="email" id="email" placeholder="Enter Your Email">
    <span id="email-error" class="error"></span>

    <input type="text" id="username" placeholder="Enter Current Username" disabled>
    <span id="username-error" class="error"></span>

    <input type="password" id="current-password" placeholder="Enter Current Password" disabled>
    <span id="password-error" class="error"></span>

    <input type="password" id="new-password" placeholder="Enter New Password" disabled>
    <span id="update-error" class="error"></span>

    <button class="submit" onclick="updateSecurity()">Update Security Info</button>
    <p id="success-message" class="success"></p>
  </div>

</body>
<script src="../JS/settings.js"></script>

</html>